<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>iPaiPai - 专注于约拍的网站</title>
        <link rel="stylesheet" href="css/uikit.min.css"/>
        <link rel="stylesheet" href="css/index.css"/>

        <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/uikit.min.js"></script>
        <script src="js/uikit-icons.min.js"></script>
        <script src="js/cookie.js"></script>
        <script src="js/url.js"></script>
    </head>
    <body class="uk-background-cover uk-position-relative uk-offcanvas-content">
        <div class="uk-position-center">
            <h1 class="uk-heading-primary uk-text-bold uk-margin-medium-bottom uk-text-center uk-flex-middle uk-animation-slide-top"> 嗨！爱拍吗</h1>
            <div class="uk-width-auto">
                <div class="uk-position-bottom-center uk-position-relative">
                    <button class="uk-button-large uk-button-secondary uk-animation-slide-bottom" uk-toggle="target: #signCanvas"> 进去看看!</button>
                </div>
            </div>
        </div>
        <div class="uk-light uk-position-bottom-center uk-position-medium">
            <ul class="uk-dotnav">
                <li class="uk-active"><a></a></li>
                <li><a></a></li>
                <li><a></a></li>
                <li><a></a></li>
                <li><a></a></li>
                <li><a></a></li>
            </ul>
        </div>
        <div id="signCanvas" uk-offcanvas="flip: true">
            <div class="uk-offcanvas-bar">

                <button class="uk-offcanvas-close" type="button" uk-close></button>

                <h2 class="uk-margin">欢迎！</h2>

                <form id="signInForm">
                    <fieldset class="uk-fieldset">
                        <legend class="uk-legend">登录</legend>
                        <div class="uk-margin">
                            <input class="uk-input" type="text" placeholder="用户名"/>
                        </div>
                        <div class="uk-margin">
                            <input class="uk-input" type="password" placeholder="密码"/>
                        </div>
                        <button id="signInBtn" class="uk-form-width-medium uk-button-default uk-button-large">登录</button>
                    </fieldset>
                    <div class="uk-margin">
                        还没有账号？点<a id="toSignUpLink">这里</a>!
                    </div>
                </form>

                <form id="signUpForm">
                    <fieldset class="uk-fieldset">
                        <legend class="uk-legend">注册</legend>
                        <div class="uk-margin">
                            <input class="uk-input" type="text" placeholder="用户名"/>
                        </div>
                        <div class="uk-margin">
                            <input class="uk-input" type="password" placeholder="密码"/>
                        </div>
                        <div class="uk-margin">
                            <input class="uk-input" type="text" placeholder="确认密码"/>
                        </div>
                        <div class="uk-margin">
                            <h3>我...</h3>
                            <div class="uk-margin">
                                <label><input class="uk-radio" type="radio" name="role"/> 技术好，想拍别人</label>
                            </div>
                            <div class="uk-margin">
                                <label class="uk-margin"><input class="uk-radio" type="radio" name="role"/> 长的好看，想被拍</label>
                            </div>
                        </div>
                        <button id="signUpBtn" class="uk-form-width-medium uk-button-default uk-button-large">注册</button>
                        <div class="uk-margin">
                            回到<a id="toSignInLink">登录</a>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </body>
    <script>
        $('document').ready(function () {
            let imgPathArr = ['../imgs/index/bg1.jpg',
                '../imgs/index/bg2.jpg',
                '../imgs/index/bg3.jpg',
                '../imgs/index/bg4.jpg',
                '../imgs/index/bg5.jpg',
                '../imgs/index/bg6.jpg'];
            let liArr = $('.uk-dotnav li');

            let counter = 0;

            let timer = setInterval(function () {
                changeBgImg(counter);
            }, 5000);

            $.each($('.uk-dotnav li a'), function (index, element) {
                $(this).mouseover(function () {
                    clearInterval(timer);
                    changeBgImg(index - 1);
                    timer = setInterval(function () {
                        changeBgImg(counter);
                    }, 5000);
                });
            });

            function changeBgImg(index) {
                liArr[counter].className = '';
                counter = index;
                counter++;
                if (counter >= imgPathArr.length) {
                    counter = 0;
                }
                $('body').css('background-image', `url(${imgPathArr[counter]})`);
                liArr[counter].className = 'uk-active';
            }


            $('#signInBtn').click(function () {
                window.location.href = 'html/home.html';
                return false;
//                $.ajax({
//                    type: 'POST',
//                    url: 'php/signIn.php',
//                    dataType: 'json',
//                    data: {'username': $('#signInUsername').val(), 'password': $('#signInPassword').val()},
//                    success: function (data) {
//
//                    }
//                });
            });

            $('#signUpForm').hide();

            $('#toSignUpLink').click(function () {
                $('#signInForm').hide(500);
                $('#signUpForm').show(500);
            });

            $('#toSignInLink').click(function () {
                $('#signInForm').show(500);
                $('#signUpForm').hide(500);
            })


        });

    </script>
</html>